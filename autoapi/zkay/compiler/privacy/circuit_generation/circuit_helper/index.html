<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>zkay.compiler.privacy.circuit_generation.circuit_helper &mdash; zkay  documentation</title>
      <link rel="stylesheet" href="../../../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../../../" id="documentation_options" src="../../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../../_static/jquery.js"></script>
        <script src="../../../../../../_static/underscore.js"></script>
        <script src="../../../../../../_static/doctools.js"></script>
    <script src="../../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../../../index.html" class="icon icon-home"> zkay
          </a>
              <div class="version">
                0.3.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../language.html">Language Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../index.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../index.html">zkay</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li><code class="xref py py-mod docutils literal notranslate"><span class="pre">zkay.compiler.privacy.circuit_generation.circuit_helper</span></code></li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="module-zkay.compiler.privacy.circuit_generation.circuit_helper">
<span id="zkay-compiler-privacy-circuit-generation-circuit-helper"></span><h1><a class="reference internal" href="#module-zkay.compiler.privacy.circuit_generation.circuit_helper" title="zkay.compiler.privacy.circuit_generation.circuit_helper"><code class="xref py py-mod docutils literal notranslate"><span class="pre">zkay.compiler.privacy.circuit_generation.circuit_helper</span></code></a><a class="headerlink" href="#module-zkay.compiler.privacy.circuit_generation.circuit_helper" title="Permalink to this headline"></a></h1>
<div class="section" id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">zkay.compiler.privacy.circuit_generation.circuit_helper.</span></span><span class="sig-name descname"><span class="pre">CircuitHelper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fct</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.ConstructorOrFunctionDefinition" title="zkay.zkay_ast.ast.ConstructorOrFunctionDefinition"><span class="pre">zkay.zkay_ast.ast.ConstructorOrFunctionDefinition</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">static_owner_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">zkay.zkay_ast.ast.PrivacyLabelExpr</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expr_trafo_constructor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper" title="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper"><span class="pre">CircuitHelper</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../../../../zkay_ast/visitor/transformer_visitor/index.html#zkay.zkay_ast.visitor.transformer_visitor.AstTransformerVisitor" title="zkay.zkay_ast.visitor.transformer_visitor.AstTransformerVisitor"><span class="pre">zkay.zkay_ast.visitor.transformer_visitor.AstTransformerVisitor</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circ_trafo_constructor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper" title="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper"><span class="pre">CircuitHelper</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../../../../zkay_ast/visitor/transformer_visitor/index.html#zkay.zkay_ast.visitor.transformer_visitor.AstTransformerVisitor" title="zkay.zkay_ast.visitor.transformer_visitor.AstTransformerVisitor"><span class="pre">zkay.zkay_ast.visitor.transformer_visitor.AstTransformerVisitor</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_circuit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper" title="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper"><span class="pre">CircuitHelper</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper" title="Permalink to this definition"></a></dt>
<dd><p>This class is used to construct abstract proof circuits during contract transformation.</p>
<p>Typically there is one instance of this class for every function which requires verification.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.fct">
<span class="sig-name descname"><span class="pre">fct</span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.fct" title="Permalink to this definition"></a></dt>
<dd><p>Function and verification contract corresponding to this circuit</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.has_return_var">
<span class="sig-name descname"><span class="pre">has_return_var</span></span><em class="property"><span class="w"> </span><span class="pre">=</span> <span class="pre">False</span></em><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.has_return_var" title="Permalink to this definition"></a></dt>
<dd><p>Metadata set later by ZkayContractTransformer</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._circ_trafo">
<span class="sig-name descname"><span class="pre">_circ_trafo</span></span><em class="property"><span class="w"> </span><span class="pre">:zkay.zkay_ast.visitor.transformer_visitor.AstTransformerVisitor</span></em><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._circ_trafo" title="Permalink to this definition"></a></dt>
<dd><p>Transformer visitors</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._phi">
<span class="sig-name descname"><span class="pre">_phi</span></span><em class="property"><span class="w"> </span><span class="pre">:List[zkay.compiler.privacy.circuit_generation.circuit_constraints.CircuitStatement]</span> <span class="pre">=</span> <span class="pre">[]</span></em><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._phi" title="Permalink to this definition"></a></dt>
<dd><p>List of proof circuit statements (assertions and assignments)</p>
<p>WARNING: Never assign to self._phi, always access it using the phi property and only mutate it</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._secret_input_name_factory">
<span class="sig-name descname"><span class="pre">_secret_input_name_factory</span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._secret_input_name_factory" title="Permalink to this definition"></a></dt>
<dd><p>Name factory for private circuit inputs</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._circ_temp_name_factory">
<span class="sig-name descname"><span class="pre">_circ_temp_name_factory</span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._circ_temp_name_factory" title="Permalink to this definition"></a></dt>
<dd><p>Name factory for temporary internal circuit variables</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._in_name_factory">
<span class="sig-name descname"><span class="pre">_in_name_factory</span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._in_name_factory" title="Permalink to this definition"></a></dt>
<dd><p>Name factory for public circuit inputs</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._out_name_factory">
<span class="sig-name descname"><span class="pre">_out_name_factory</span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._out_name_factory" title="Permalink to this definition"></a></dt>
<dd><p>Name factory for public circuit outputs</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._static_owner_labels">
<span class="sig-name descname"><span class="pre">_static_owner_labels</span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._static_owner_labels" title="Permalink to this definition"></a></dt>
<dd><p>List of all statically known privacy labels for the contract of which this circuit is part of</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._requested_dynamic_pks">
<span class="sig-name descname"><span class="pre">_requested_dynamic_pks</span></span><em class="property"><span class="w"> </span><span class="pre">:Dict[zkay.zkay_ast.ast.Statement,</span> <span class="pre">Dict[zkay.zkay_ast.ast.Identifier,</span> <span class="pre">zkay.zkay_ast.ast.HybridArgumentIdf]]</span></em><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._requested_dynamic_pks" title="Permalink to this definition"></a></dt>
<dd><p>For each statement, cache the generated variable holding the requested public key of a given
not-statically-known identifier, to prevent requesting the same key over and over again</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._needed_secret_key">
<span class="sig-name descname"><span class="pre">_needed_secret_key</span></span><em class="property"><span class="w"> </span><span class="pre">:collections.OrderedDict[zkay.transaction.crypto.params.CryptoParams,</span> <span class="pre">None]</span></em><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._needed_secret_key" title="Permalink to this definition"></a></dt>
<dd><p>The crypto backends for which msg.sender’s secret key must be added to the private circuit inputs</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._global_keys">
<span class="sig-name descname"><span class="pre">_global_keys</span></span><em class="property"><span class="w"> </span><span class="pre">:collections.OrderedDict[Tuple[Union[zkay.zkay_ast.ast.MeExpr,</span> <span class="pre">zkay.zkay_ast.ast.Identifier],</span> <span class="pre">zkay.transaction.crypto.params.CryptoParams],</span> <span class="pre">None]</span></em><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._global_keys" title="Permalink to this definition"></a></dt>
<dd><p>Set of statically known privacy labels (OrderedDict is used to ensure deterministic iteration order)</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.function_calls_with_verification">
<span class="sig-name descname"><span class="pre">function_calls_with_verification</span></span><em class="property"><span class="w"> </span><span class="pre">:List[zkay.zkay_ast.ast.FunctionCallExpr]</span> <span class="pre">=</span> <span class="pre">[]</span></em><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.function_calls_with_verification" title="Permalink to this definition"></a></dt>
<dd><p>List of all (non-transitive) calls in self.fct’s body to functions which require verification, in AST visiting order
This is internally used to compute transitive in/out/privin sizes, but may also be useful when implementing a new
circuit generator backend.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.transitively_called_functions">
<span class="sig-name descname"><span class="pre">transitively_called_functions</span></span><em class="property"><span class="w"> </span><span class="pre">:collections.OrderedDict[zkay.zkay_ast.ast.ConstructorOrFunctionDefinition,</span> <span class="pre">None]</span></em><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.transitively_called_functions" title="Permalink to this definition"></a></dt>
<dd><p>Set (with deterministic order) of all functions which this circuit transitively calls.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._remapper">
<span class="sig-name descname"><span class="pre">_remapper</span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._remapper" title="Permalink to this definition"></a></dt>
<dd><p>Remapper instance used for SSA simulation</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.register_verification_contract_metadata">
<span class="sig-name descname"><span class="pre">register_verification_contract_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contract_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.TypeName" title="zkay.zkay_ast.ast.TypeName"><span class="pre">zkay.zkay_ast.ast.TypeName</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">import_filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.register_verification_contract_metadata" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.get_verification_contract_name">
<span class="sig-name descname"><span class="pre">get_verification_contract_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.get_verification_contract_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.requires_zk_data_struct">
<span class="sig-name descname"><span class="pre">requires_zk_data_struct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.requires_zk_data_struct" title="Permalink to this definition"></a></dt>
<dd><p>Return true if a struct needs to be created in the solidity code to store public data (IO) associated with this circuit.</p>
<p>A struct is used instead of plain temporary variables to bypass solidity’s stack limit.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.zk_data_struct_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">zk_data_struct_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.zk_data_struct_name" title="Permalink to this definition"></a></dt>
<dd><p>Name of the data struct type</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.priv_in_size_trans">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">priv_in_size_trans</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.priv_in_size_trans" title="Permalink to this definition"></a></dt>
<dd><p>Total size of all private inputs for this circuit (in # uints)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.priv_in_size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">priv_in_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.priv_in_size" title="Permalink to this definition"></a></dt>
<dd><p>Size of all private inputs required for self.fct only (without called functions, in #uints)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.out_size_trans">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">out_size_trans</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.out_size_trans" title="Permalink to this definition"></a></dt>
<dd><p>Total size of all public outputs for this circuit (in # uints)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.out_size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">out_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.out_size" title="Permalink to this definition"></a></dt>
<dd><p>Size of all public outputs required for self.fct only (without called functions, in #uints)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.in_size_trans">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">in_size_trans</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.in_size_trans" title="Permalink to this definition"></a></dt>
<dd><p>Total size of all public inputs for this circuit (in # uints)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.in_size">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">in_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.in_size" title="Permalink to this definition"></a></dt>
<dd><p>Size of all public inputs required for self.fct only (without called functions, in #uints)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.output_idfs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">output_idfs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.HybridArgumentIdf" title="zkay.zkay_ast.ast.HybridArgumentIdf"><span class="pre">zkay.zkay_ast.ast.HybridArgumentIdf</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.output_idfs" title="Permalink to this definition"></a></dt>
<dd><p>All public output HybridArgumentIdfs (for self.fct only, w/o called functions)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.input_idfs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">input_idfs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.HybridArgumentIdf" title="zkay.zkay_ast.ast.HybridArgumentIdf"><span class="pre">zkay.zkay_ast.ast.HybridArgumentIdf</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.input_idfs" title="Permalink to this definition"></a></dt>
<dd><p>All public input HybridArgumentIdfs (for self.fct only, w/o called functions)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.sec_idfs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sec_idfs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.HybridArgumentIdf" title="zkay.zkay_ast.ast.HybridArgumentIdf"><span class="pre">zkay.zkay_ast.ast.HybridArgumentIdf</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.sec_idfs" title="Permalink to this definition"></a></dt>
<dd><p>All private input HybridArgumentIdfs (for self.fct only, w/o called functions)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.phi">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">phi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../circuit_constraints/index.html#zkay.compiler.privacy.circuit_generation.circuit_constraints.CircuitStatement" title="zkay.compiler.privacy.circuit_generation.circuit_constraints.CircuitStatement"><span class="pre">zkay.compiler.privacy.circuit_generation.circuit_constraints.CircuitStatement</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.phi" title="Permalink to this definition"></a></dt>
<dd><p>List of abstract circuit statements which defines circuit semantics</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.requested_global_keys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">requested_global_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">OrderedDict</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.MeExpr" title="zkay.zkay_ast.ast.MeExpr"><span class="pre">MeExpr</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.Identifier" title="zkay.zkay_ast.ast.Identifier"><span class="pre">Identifier</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../../../../transaction/crypto/params/index.html#zkay.transaction.crypto.params.CryptoParams" title="zkay.transaction.crypto.params.CryptoParams"><span class="pre">CryptoParams</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.requested_global_keys" title="Permalink to this definition"></a></dt>
<dd><p>Statically known keys required by this circuit</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.public_arg_arrays">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">public_arg_arrays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.public_arg_arrays" title="Permalink to this definition"></a></dt>
<dd><p>Returns names and lengths of all public parameter uint256 arrays which go into the verifier</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.circ_indent_block">
<span class="sig-name descname"><span class="pre">circ_indent_block</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.circ_indent_block" title="Permalink to this definition"></a></dt>
<dd><p>Return context manager which manages the lifetime of a CircIndentBlock.</p>
<p>All statements which are inserted into self.phi during the lifetime of this context manager are automatically wrapped inside
a CircIndentBlock statement with the supplied name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.guarded">
<span class="sig-name descname"><span class="pre">guarded</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">guard_idf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.HybridArgumentIdf" title="zkay.zkay_ast.ast.HybridArgumentIdf"><span class="pre">zkay.zkay_ast.ast.HybridArgumentIdf</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_true</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ContextManager</span></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.guarded" title="Permalink to this definition"></a></dt>
<dd><p>Return a context manager which manages the lifetime of a guard variable.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.get_glob_key_name">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_glob_key_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">zkay.zkay_ast.ast.PrivacyLabelExpr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crypto_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../transaction/crypto/params/index.html#zkay.transaction.crypto.params.CryptoParams" title="zkay.transaction.crypto.params.CryptoParams"><span class="pre">zkay.transaction.crypto.params.CryptoParams</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.get_glob_key_name" title="Permalink to this definition"></a></dt>
<dd><p>Return the name of the HybridArgumentIdf which holds the statically known public key for the given privacy label.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.get_own_secret_key_name">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_own_secret_key_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">crypto_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../transaction/crypto/params/index.html#zkay.transaction.crypto.params.CryptoParams" title="zkay.transaction.crypto.params.CryptoParams"><span class="pre">zkay.transaction.crypto.params.CryptoParams</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.get_own_secret_key_name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.requires_verification">
<span class="sig-name descname"><span class="pre">requires_verification</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.requires_verification" title="Permalink to this definition"></a></dt>
<dd><p>Returns true if the function corresponding to this circuit requires a zk proof verification for correctness</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.ensure_parameter_encryption">
<span class="sig-name descname"><span class="pre">ensure_parameter_encryption</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">insert_loc_stmt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.Statement" title="zkay.zkay_ast.ast.Statement"><span class="pre">zkay.zkay_ast.ast.Statement</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.Parameter" title="zkay.zkay_ast.ast.Parameter"><span class="pre">zkay.zkay_ast.ast.Parameter</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.ensure_parameter_encryption" title="Permalink to this definition"></a></dt>
<dd><p>Make circuit prove that the encryption of the specified parameter is correct.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.get_randomness_for_rerand">
<span class="sig-name descname"><span class="pre">get_randomness_for_rerand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.Expression" title="zkay.zkay_ast.ast.Expression"><span class="pre">zkay.zkay_ast.ast.Expression</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.IdentifierExpr" title="zkay.zkay_ast.ast.IdentifierExpr"><span class="pre">zkay.zkay_ast.ast.IdentifierExpr</span></a></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.get_randomness_for_rerand" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.evaluate_expr_in_circuit">
<span class="sig-name descname"><span class="pre">evaluate_expr_in_circuit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.Expression" title="zkay.zkay_ast.ast.Expression"><span class="pre">zkay.zkay_ast.ast.Expression</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_privacy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">zkay.zkay_ast.ast.PrivacyLabelExpr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">homomorphism</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/homomorphism/index.html#zkay.zkay_ast.homomorphism.Homomorphism" title="zkay.zkay_ast.homomorphism.Homomorphism"><span class="pre">zkay.zkay_ast.homomorphism.Homomorphism</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.LocationExpr" title="zkay.zkay_ast.ast.LocationExpr"><span class="pre">zkay.zkay_ast.ast.LocationExpr</span></a></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.evaluate_expr_in_circuit" title="Permalink to this definition"></a></dt>
<dd><p>Evaluate private expression and return result as a fresh out variable.</p>
<p>Roughly corresponds to out() from paper</p>
<p>Note: This function has side effects on expr.statement (adds a pre_statement)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expr</strong> – [SIDE EFFECT] The expression which should be evaluated privately</p></li>
<li><p><strong>new_privacy</strong> – The circuit output should be encrypted for this owner (or plain if ‘all’)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Location expression which references the encrypted circuit result</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.evaluate_stmt_in_circuit">
<span class="sig-name descname"><span class="pre">evaluate_stmt_in_circuit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ast</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.Statement" title="zkay.zkay_ast.ast.Statement"><span class="pre">zkay.zkay_ast.ast.Statement</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.AssignmentStatement" title="zkay.zkay_ast.ast.AssignmentStatement"><span class="pre">zkay.zkay_ast.ast.AssignmentStatement</span></a></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.evaluate_stmt_in_circuit" title="Permalink to this definition"></a></dt>
<dd><p>Evaluate an entire statement privately.</p>
<p>This works by turning the statement into an assignment statement where the</p>
<ul class="simple">
<li><p>lhs is a tuple of all external locations (defined outside statement), which are modified inside the statement</p></li>
<li><p>rhs is the return value of an inlined function call expression to a virtual function where body = the statement + return statement           which returns a tuple of the most recent SSA version of all modified locations</p></li>
</ul>
<p>Note: Modifying external locations which are not owned by &#64;me inside the statement is illegal (would leak information).
Note: At the moment, this is only used for if statements with a private condition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ast</strong> – the statement to evaluate inside the circuit</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>AssignmentStatement as described above</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.invalidate_idf">
<span class="sig-name descname"><span class="pre">invalidate_idf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_idf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.Identifier" title="zkay.zkay_ast.ast.Identifier"><span class="pre">zkay.zkay_ast.ast.Identifier</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.invalidate_idf" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.call_function">
<span class="sig-name descname"><span class="pre">call_function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ast</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.FunctionCallExpr" title="zkay.zkay_ast.ast.FunctionCallExpr"><span class="pre">zkay.zkay_ast.ast.FunctionCallExpr</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.call_function" title="Permalink to this definition"></a></dt>
<dd><p>Include public function call to a function which requires verification in this circuit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ast</strong> – The function call to include, target function must require verification</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.request_public_key">
<span class="sig-name descname"><span class="pre">request_public_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crypto_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../transaction/crypto/params/index.html#zkay.transaction.crypto.params.CryptoParams" title="zkay.transaction.crypto.params.CryptoParams"><span class="pre">zkay.transaction.crypto.params.CryptoParams</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">plabel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.MeExpr" title="zkay.zkay_ast.ast.MeExpr"><span class="pre">zkay.zkay_ast.ast.MeExpr</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.Identifier" title="zkay.zkay_ast.ast.Identifier"><span class="pre">zkay.zkay_ast.ast.Identifier</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.request_public_key" title="Permalink to this definition"></a></dt>
<dd><p>Request key for the address corresponding to plabel from pki infrastructure and add it to the public circuit inputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>plabel</strong> – privacy label for which to request key</p></li>
<li><p><strong>name</strong> – name to use for the HybridArgumentIdf holding the key</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>HybridArgumentIdf containing the requested key and an AssignmentStatement which assigns the key request to the idf location</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.request_private_key">
<span class="sig-name descname"><span class="pre">request_private_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crypto_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../transaction/crypto/params/index.html#zkay.transaction.crypto.params.CryptoParams" title="zkay.transaction.crypto.params.CryptoParams"><span class="pre">zkay.transaction.crypto.params.CryptoParams</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.Statement" title="zkay.zkay_ast.ast.Statement"><span class="pre">zkay.zkay_ast.ast.Statement</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.request_private_key" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.add_to_circuit_inputs">
<span class="sig-name descname"><span class="pre">add_to_circuit_inputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.Expression" title="zkay.zkay_ast.ast.Expression"><span class="pre">zkay.zkay_ast.ast.Expression</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.HybridArgumentIdf" title="zkay.zkay_ast.ast.HybridArgumentIdf"><span class="pre">zkay.zkay_ast.ast.HybridArgumentIdf</span></a></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.add_to_circuit_inputs" title="Permalink to this definition"></a></dt>
<dd><p>Add the provided expression to the public circuit inputs.</p>
<p>Roughly corresponds to in() from paper</p>
<p>If expr is encrypted (privacy != &#64;all), this function also automatically ensures that the circuit has access to
the correctly decrypted expression value in the form of a new private circuit input.</p>
<p>If expr is an IdentifierExpr, its value will be cached
(i.e. when the same identifier is needed again as a circuit input, its value will be retrieved from cache rather          than adding an expensive redundant input. The cache is invalidated as soon as the identifier is overwritten in public code)</p>
<p>Note: This function has side effects on expr.statement (adds a pre_statement)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>expr</strong> – [SIDE EFFECT] expression which should be made available inside the circuit as an argument</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>HybridArgumentIdf which references the plaintext value of the newly added input</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.get_remapped_idf_expr">
<span class="sig-name descname"><span class="pre">get_remapped_idf_expr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.IdentifierExpr" title="zkay.zkay_ast.ast.IdentifierExpr"><span class="pre">zkay.zkay_ast.ast.IdentifierExpr</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.LocationExpr" title="zkay.zkay_ast.ast.LocationExpr"><span class="pre">zkay.zkay_ast.ast.LocationExpr</span></a></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.get_remapped_idf_expr" title="Permalink to this definition"></a></dt>
<dd><p>Get location expression for the most recently assigned value of idf according to the SSA simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>idf</strong> – Identifier expression to lookup</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Either idf itself (not currently remapped)
or a loc expr for the HybridArgumentIdf which references the most recent value of idf</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.create_new_idf_version_from_value">
<span class="sig-name descname"><span class="pre">create_new_idf_version_from_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orig_idf</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.Identifier" title="zkay.zkay_ast.ast.Identifier"><span class="pre">zkay.zkay_ast.ast.Identifier</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.Expression" title="zkay.zkay_ast.ast.Expression"><span class="pre">zkay.zkay_ast.ast.Expression</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.create_new_idf_version_from_value" title="Permalink to this definition"></a></dt>
<dd><p>Store expr in a new version of orig_idf (for SSA).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>orig_idf</strong> – the identifier which should be updated with a new value</p></li>
<li><p><strong>expr</strong> – the updated value</p></li>
<li><p><strong>is_local</strong> – whether orig_idf refers to a local variable (as opposed to a state variable)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.inline_function_call_into_circuit">
<span class="sig-name descname"><span class="pre">inline_function_call_into_circuit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fcall</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.FunctionCallExpr" title="zkay.zkay_ast.ast.FunctionCallExpr"><span class="pre">zkay.zkay_ast.ast.FunctionCallExpr</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.Expression" title="zkay.zkay_ast.ast.Expression"><span class="pre">zkay.zkay_ast.ast.Expression</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.TupleExpr" title="zkay.zkay_ast.ast.TupleExpr"><span class="pre">zkay.zkay_ast.ast.TupleExpr</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.inline_function_call_into_circuit" title="Permalink to this definition"></a></dt>
<dd><p>Inline an entire function call into the current circuit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fcall</strong> – Function call to inline</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Expression (1 retval) / TupleExpr (multiple retvals) with return value(s)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.add_assignment_to_circuit">
<span class="sig-name descname"><span class="pre">add_assignment_to_circuit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ast</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.AssignmentStatement" title="zkay.zkay_ast.ast.AssignmentStatement"><span class="pre">zkay.zkay_ast.ast.AssignmentStatement</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.add_assignment_to_circuit" title="Permalink to this definition"></a></dt>
<dd><p>Include private assignment statement in this circuit.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.add_var_decl_to_circuit">
<span class="sig-name descname"><span class="pre">add_var_decl_to_circuit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ast</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.VariableDeclarationStatement" title="zkay.zkay_ast.ast.VariableDeclarationStatement"><span class="pre">zkay.zkay_ast.ast.VariableDeclarationStatement</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.add_var_decl_to_circuit" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.add_return_stmt_to_circuit">
<span class="sig-name descname"><span class="pre">add_return_stmt_to_circuit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ast</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.ReturnStatement" title="zkay.zkay_ast.ast.ReturnStatement"><span class="pre">zkay.zkay_ast.ast.ReturnStatement</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.add_return_stmt_to_circuit" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.add_if_statement_to_circuit">
<span class="sig-name descname"><span class="pre">add_if_statement_to_circuit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ast</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.IfStatement" title="zkay.zkay_ast.ast.IfStatement"><span class="pre">zkay.zkay_ast.ast.IfStatement</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.add_if_statement_to_circuit" title="Permalink to this definition"></a></dt>
<dd><p>Include private if statement in this circuit.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.add_block_to_circuit">
<span class="sig-name descname"><span class="pre">add_block_to_circuit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ast</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.Block" title="zkay.zkay_ast.ast.Block"><span class="pre">zkay.zkay_ast.ast.Block</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">guard_cond</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.HybridArgumentIdf" title="zkay.zkay_ast.ast.HybridArgumentIdf"><span class="pre">zkay.zkay_ast.ast.HybridArgumentIdf</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">guard_val</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper.add_block_to_circuit" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._get_canonical_privacy_label">
<span class="sig-name descname"><span class="pre">_get_canonical_privacy_label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analysis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">privacy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">zkay.zkay_ast.ast.PrivacyLabelExpr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._get_canonical_privacy_label" title="Permalink to this definition"></a></dt>
<dd><p>If privacy is equivalent to a static privacy label -&gt; Return the corresponding static label, otherwise itself.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>analysis</strong> – analysis state at the statement where expression with the given privacy occurs</p></li>
<li><p><strong>privacy</strong> – original privacy label</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._create_temp_var">
<span class="sig-name descname"><span class="pre">_create_temp_var</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tag</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.Expression" title="zkay.zkay_ast.ast.Expression"><span class="pre">zkay.zkay_ast.ast.Expression</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.HybridArgumentIdf" title="zkay.zkay_ast.ast.HybridArgumentIdf"><span class="pre">zkay.zkay_ast.ast.HybridArgumentIdf</span></a></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._create_temp_var" title="Permalink to this definition"></a></dt>
<dd><p>Assign expression to a fresh temporary circuit variable.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._add_assign">
<span class="sig-name descname"><span class="pre">_add_assign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lhs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.Expression" title="zkay.zkay_ast.ast.Expression"><span class="pre">zkay.zkay_ast.ast.Expression</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">rhs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.Expression" title="zkay.zkay_ast.ast.Expression"><span class="pre">zkay.zkay_ast.ast.Expression</span></a></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._add_assign" title="Permalink to this definition"></a></dt>
<dd><p>Simulate an assignment of rhs to lhs inside the circuit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lhs</strong> – destination</p></li>
<li><p><strong>rhs</strong> – source</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._get_circuit_output_for_private_expression">
<span class="sig-name descname"><span class="pre">_get_circuit_output_for_private_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.Expression" title="zkay.zkay_ast.ast.Expression"><span class="pre">zkay.zkay_ast.ast.Expression</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_privacy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">zkay.zkay_ast.ast.PrivacyLabelExpr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">homomorphism</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/homomorphism/index.html#zkay.zkay_ast.homomorphism.Homomorphism" title="zkay.zkay_ast.homomorphism.Homomorphism"><span class="pre">zkay.zkay_ast.homomorphism.Homomorphism</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.LocationExpr" title="zkay.zkay_ast.ast.LocationExpr"><span class="pre">zkay.zkay_ast.ast.LocationExpr</span></a></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._get_circuit_output_for_private_expression" title="Permalink to this definition"></a></dt>
<dd><p>Add evaluation of expr to the circuit and return the output HybridArgumentIdf corresponding to the evaluation result.</p>
<p>Note: has side effects on expr.statement (adds pre_statement)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expr</strong> – [SIDE EFFECT] expression to evaluate</p></li>
<li><p><strong>new_privacy</strong> – result owner (determines encryption key)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>HybridArgumentIdf which references the circuit output containing the result of expr</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._evaluate_private_expression">
<span class="sig-name descname"><span class="pre">_evaluate_private_expression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.Expression" title="zkay.zkay_ast.ast.Expression"><span class="pre">zkay.zkay_ast.ast.Expression</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">tmp_idf_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.HybridArgumentIdf" title="zkay.zkay_ast.ast.HybridArgumentIdf"><span class="pre">zkay.zkay_ast.ast.HybridArgumentIdf</span></a></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._evaluate_private_expression" title="Permalink to this definition"></a></dt>
<dd><p>Evaluate expr in the circuit (if not already done) and store result in a new temporary circuit variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expr</strong> – expression to evaluate</p></li>
<li><p><strong>tmp_idf_suffix</strong> – name suffix for the new temporary circuit variable</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>temporary circuit variable HybridArgumentIdf which refers to the transformed circuit expression</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._ensure_encryption">
<span class="sig-name descname"><span class="pre">_ensure_encryption</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stmt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.Statement" title="zkay.zkay_ast.ast.Statement"><span class="pre">zkay.zkay_ast.ast.Statement</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">plain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.HybridArgumentIdf" title="zkay.zkay_ast.ast.HybridArgumentIdf"><span class="pre">zkay.zkay_ast.ast.HybridArgumentIdf</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_privacy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">zkay.zkay_ast.ast.PrivacyLabelExpr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crypto_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../transaction/crypto/params/index.html#zkay.transaction.crypto.params.CryptoParams" title="zkay.transaction.crypto.params.CryptoParams"><span class="pre">zkay.transaction.crypto.params.CryptoParams</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cipher</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.HybridArgumentIdf" title="zkay.zkay_ast.ast.HybridArgumentIdf"><span class="pre">zkay.zkay_ast.ast.HybridArgumentIdf</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_param</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_dec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._ensure_encryption" title="Permalink to this definition"></a></dt>
<dd><p>Make sure that cipher = enc(plain, getPk(new_privacy), priv_user_provided_rnd).</p>
<p>This automatically requests necessary keys and adds a circuit input for the randomness.</p>
<p>Note: This function adds pre-statements to stmt</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>EFFECT</strong><strong>]</strong> (<em>stmt</em><em> [</em><em>SIDE</em>) – the statement which contains the expression which requires this encryption</p></li>
<li><p><strong>plain</strong> – circuit variable referencing the plaintext value</p></li>
<li><p><strong>new_privacy</strong> – privacy label corresponding to the destination key address</p></li>
<li><p><strong>cipher</strong> – circuit variable referencing the encrypted value</p></li>
<li><p><strong>is_param</strong> – whether cipher is a function parameter</p></li>
<li><p><strong>is_dec</strong> – whether this is a decryption operation (user supplied plain) as opposed to an encryption operation (user supplied cipher)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._require_secret_key">
<span class="sig-name descname"><span class="pre">_require_secret_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crypto_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../transaction/crypto/params/index.html#zkay.transaction.crypto.params.CryptoParams" title="zkay.transaction.crypto.params.CryptoParams"><span class="pre">zkay.transaction.crypto.params.CryptoParams</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.HybridArgumentIdf" title="zkay.zkay_ast.ast.HybridArgumentIdf"><span class="pre">zkay.zkay_ast.ast.HybridArgumentIdf</span></a></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._require_secret_key" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._require_public_key_for_label_at">
<span class="sig-name descname"><span class="pre">_require_public_key_for_label_at</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stmt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.Statement" title="zkay.zkay_ast.ast.Statement"><span class="pre">zkay.zkay_ast.ast.Statement</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">privacy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">zkay.zkay_ast.ast.PrivacyLabelExpr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crypto_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../transaction/crypto/params/index.html#zkay.transaction.crypto.params.CryptoParams" title="zkay.transaction.crypto.params.CryptoParams"><span class="pre">zkay.transaction.crypto.params.CryptoParams</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.HybridArgumentIdf" title="zkay.zkay_ast.ast.HybridArgumentIdf"><span class="pre">zkay.zkay_ast.ast.HybridArgumentIdf</span></a></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._require_public_key_for_label_at" title="Permalink to this definition"></a></dt>
<dd><p>Make circuit helper aware, that the key corresponding to privacy is required at stmt.</p>
<p>If privacy is not a statically known label, the key is requested on spot.
Otherwise the label is added to the global key set.
The keys in that set are requested only once at the start of the external wrapper function, to improve efficiency.</p>
<p>Note: This function has side effects on stmt (adds a pre_statement)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>HybridArgumentIdf which references the key</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._get_public_key_in_sender_field">
<span class="sig-name descname"><span class="pre">_get_public_key_in_sender_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stmt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.Statement" title="zkay.zkay_ast.ast.Statement"><span class="pre">zkay.zkay_ast.ast.Statement</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cipher</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.HybridArgumentIdf" title="zkay.zkay_ast.ast.HybridArgumentIdf"><span class="pre">zkay.zkay_ast.ast.HybridArgumentIdf</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">crypto_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../../../../transaction/crypto/params/index.html#zkay.transaction.crypto.params.CryptoParams" title="zkay.transaction.crypto.params.CryptoParams"><span class="pre">zkay.transaction.crypto.params.CryptoParams</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../../../../zkay_ast/ast/index.html#zkay.zkay_ast.ast.HybridArgumentIdf" title="zkay.zkay_ast.ast.HybridArgumentIdf"><span class="pre">zkay.zkay_ast.ast.HybridArgumentIdf</span></a></span></span><a class="headerlink" href="#zkay.compiler.privacy.circuit_generation.circuit_helper.CircuitHelper._get_public_key_in_sender_field" title="Permalink to this definition"></a></dt>
<dd><p>Ensure the circuit has access to the public key stored in cipher’s sender field.</p>
<p>Note: This function has side effects on stmt [adds a pre-statement]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>EFFECT</strong><strong>]</strong> (<em>stmt</em><em> [</em><em>SIDE</em>) – statement in which this private expression occurs</p></li>
<li><p><strong>cipher</strong> – HybridArgumentIdf which references the cipher value</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>HybridArgumentIdf which references the key in cipher’s sender field (or 0 if none)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2021, Nick Baumann, Roger Baumgartner, Benjamin Bichsel, Samuel Steffen, SRI Lab ETH Zurich.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>